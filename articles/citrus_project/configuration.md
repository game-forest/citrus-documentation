# Citrus project configuration

Citrus project configuration is provided via a JSON (currently Newtonsoft.Json parseable) file with extension `.citproj`.

`ProjectDirectory` is considered to be a directory where project configuration file is located. Whenever it is stated that path is relative, implied it's relative to `ProjectDirectory` unless stated otherwise.

## Root level

Property                          | Type                                                      | Description
----------------------------------|-----------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------
`Name`                            | string                                                    | Project name. Orange expects it to appear in [directory structure](directory_structure.md) as described.
`AssetsDirectory`                 | string                                                    | can be used to override default Assets Directory `./Data/`
`BundlesOutputDirectory`          | string                                                    | Relative path to a directory where Orange will place produced asset bundles. Default value is `./Bundles/`
`GeneratedScenesPath`             | string                                                    | Path for scene code generated by Kumqat. Default is `GeneratedScenes`
`DontSynchronizeProject`          | bool                                                      | Used to disable project synchronization which is enabled by default.
`DictionariesPath`                | string                                                    | Path to dictionaries directory relative to assets directory. Default is `Lime.Localization.DictionariesPath = "Localization"`.
`UnresolvedAssembliesDirectory`   | string                                                    | default:  `$"{ProjectName}.OrangePlugin/bin/$(CONFIGURATION)/"`
`GeneratedDeserializerPath`       | string                                                    | Path to save yuzu generated binary deserializers for application types if used.
`CitrusDirectory`                 | string                                                    | relative path to Citrus engine directory. Default is `./Citrus/`. Should be set if path deviates from the default.
`SkipAssetsCooking`               | bool                                                      | Option to omit assets cooking.
`SkipCodeCooking`                 | bool                                                      | Option to omit Kumquat code generation. Should be set to `true` if project doesn't use Kumquat.
`RawAssetExtensions`              | string                                                    | Space separated extensions for files to be treated as raw assets in form `.xxx .yyy .zzz...`
`LocalizeOnlyTaggedSceneTexts`    | string                                                    | TODO
`AddContextToLocalizedDictionary` | bool                                                      | TODO
`Targets`                         | List<[Target](#target)>                                   | Lists user defined targets.
`XCodeProject`                    | [XCodeProject](#xcodeproject)                             | Setting specific to XCodePproject generation.
`PluginAssemblies`                | [PluginAssemblies](#pluginassemblies)                     | Describes which assemblies should be loaded by Orange/Tangerine.
`AssetCache`                      | [AssetCache](#assetcache)                                 | Asset Cache settings
`RemoteScripting`                 | Dictionary\<string, [RemoteScripting](#remotescripting)\> | TODO
`ResolutionSettings`              | [ResolutionSettings](#resolutionsettings)                 | TODO
`ApplyAnimationBlenderInTangerine`| bool                                                      | Allows you to enable BlendAnimationEngine in Tangerine which is turned off by default

## `Target`

Default target names are `iOS`, `Android`, `Win`, `Mac`.

Property           | Type   | Description
-------------------|--------|------------
`CleanBeforeBuild` | bool   | if Clean step should be invoked before building the project
`Name`             | string | Target name will be diaplayed in Orange and Tangerine interface.
`Configuration`    | string | Configuration to build in terms of VS projects. Default targets have it set to `Release`
`Project`          | string | relative path to VS `.csproj` or `.sln` file
`BaseTarget`       | string | name of target to inherit.
`Hidden`           | bool   | Hides target from menu.

- If any property but `Name` and `BaseTarget` is not specified or set to null it will be inherited from specified `BaseTarget`.
- `Project`, `Configuration` and `BaseTarget` properties may contain [Substitute tokens](#substitute-tokens).

## `XCodeProject`

Property     | Type | Description
-------------|------|------------
`DataFolder` |      | TODO
`Resources`  |      | TODO

## `AssetCache`:

Property         | Type   | Description
-----------------|--------|---------------------------------------
`ServerAddress`  | string | address of the FTP server
`ServerUsername` | string | username to use when connect to server
`ServerPath`     | string | TODO

## `PluginAssemblies`

Property                         | Type           | Description
---------------------------------|----------------|-------------------------------------------------------------------------------
`OrangeAndTangerine`             | List\<string\> | paths to assemblies to be loaded by Tangerine and Orange
`Orange`                         | List\<string\> | paths to assemblies to be loaded by Orange only
`Tangerine`                      | List\<string\> | paths to assemblies to be loaded by Tangerine only
`OrangeAndTangerineBuildTargets` | List\<string\> | list of [Target](#target) to build when opening project with Tangerine and Orange
`OrangeBuildTargets`             | List\<string\> | list of [Target](#target) to build when opening project with Orange
`TangerineBuildTargets`          | List\<string\> | list of [Target](#target) to build when opening project with Tangerine

- Assembly paths may contain [Substitute tokens](#substitute-tokens).
- Assembly paths are relative to project directory.

## `ResolutionSettings`

Property             | Type                              | Description
---------------------|-----------------------------------|-------------------------
`IsLandscapeDefault` | bool                              | default: true TODO
`Resolutions`        | List\<[Resolution](#resolution)\> | list of resolutions TODO
`Markers`            | List\<[Marker](#marker)\>         | list of markers TODO

### `Resolution`

Property            | Type           | Description
--------------------|----------------|----------------
`Name`              | string         | resolution name
`Width`             | number         | width
`Height`            | number         | height
`ResolutionMarkers` | List\<string\> | TODO

### `Marker`

Property          | Type   | Description
------------------|--------|------------
`Name`            | string | TODO
`LandscapeMarker` | string | TODO
`PortraitMarker`  | string | TODO

## `RemoteScripting`

Property                  | Type           | Description
--------------------------|----------------|------------
`ScriptsPath`             | string         | TODO
`ScriptsAssemblyName`     | string         | TODO
`BuildTarget`             | string         | TODO
`FrameworkReferencesPath` | string         | TODO
`ProjectReferencesPath`   | string         | TODO
`ProjectReferences`       | List\<string\> | TODO
`FrameworkReferences`     | string         | TODO
`EntryPointsClass`        | string         | TODO
`RemoteStoragePath`       | string         | TODO

## Substitute tokens

- `$(PLATFORM)` => `Win` or `Mac`
- `$(CONFIGURATION)` => `Debug` or `Release`
- `$(HOST_APPLICATION)` => `Orange` or `Tangerine`
